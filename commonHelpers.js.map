{"version":3,"file":"commonHelpers.js","sources":["../src/js/render-functions.js","../src/js/pixabay-api.js","../src/main.js"],"sourcesContent":["import SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n\nfunction renderImages(images) {\n\n    const ul = document.querySelector('ul');\n    let markup = '';\n\n    ul.insertAdjacentHTML('beforeend', markup);\n\n    images.forEach(image => {\n\n     markup += `\n        <li id='parent-li'>\n            <a href=\"${image.largeImageURL}\">\n                <img src=\"${image.webformatURL}\" alt=\"${image.tags}\" data-large-image=\"${image.largeImageURL}\" width=\"360\">\n                <ul id=\"inner-ul\">\n                    <li id=\"inner-li\">\n                        <div id=\"name\">Likes</div>\n                        <div id=\"count\">${image.likes}</div>\n                    </li>\n                    <li id=\"inner-li\">\n                        <div id=\"name\">Views</div>\n                        <div id=\"count\">${image.views}</div>\n                    </li>\n                    <li id=\"inner-li\">\n                        <div id=\"name\">Comments</div>\n                        <div id=\"count\">${image.comments}</div>\n                    </li>\n                    <li id=\"inner-li\">\n                        <div id=\"name\">Downloads</div>\n                        <div id=\"count\">${image.downloads}</div>\n                    </li>\n                </ul>\n            </a>\n        </li>\n    `;\n    });\n    ul.insertAdjacentHTML('beforeend', markup);\n\n    new SimpleLightbox('li a', {\n        captionsData: 'alt',\n        captionDelay: 250\n    });\n\n  }\n  \n  export default renderImages;","import axios from 'axios';\nimport renderImages from './render-functions.js';\nimport iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\n\nexport default searchImages;\n\nlet page = 80;\nlet query = '';\n\nasync function searchImages(newQuery) {\n    if (newQuery !== query) {\n        query = newQuery;\n        page = 1;\n    }\n\n    const searchParams = new URLSearchParams({\n        key: \"44270908-0491c90bbdb5ccf9a31273468\",\n        q: query,\n        image_type: \"photo\",\n        orientation: \"horizontal\",\n        safesearch: true,\n        per_page: 15,\n        page: page\n    });\n\n    const url = `https://pixabay.com/api/?${searchParams}`;\n\n    try {\n        const response = await axios.get(url);\n        const data = response.data;\n\n        if (data.hits.length === 0) {\n            iziToast.error({\n                message: 'Sorry, there are no images matching your search query. Please try again!',\n                color: '#ff0000',\n                position: 'topRight',\n            });\n        } else {\n            renderImages(data.hits);\n        }\n\n        if (data.hits.length * page >= data.totalHits) {\n            document.querySelector('#load-more-button').style.display = 'none';\n            iziToast.info({\n                message: \"We're sorry, but you've reached the end of search results.\",\n                position: 'topRight',\n            });\n        } else {\n            document.querySelector('#load-more-button').style.display = 'block';\n        }\n\n        const cardHeight = document.querySelector('img').getBoundingClientRect().height;\n        console.log(cardHeight);\n        window.scrollBy({\n            top: cardHeight * 2,\n            behavior: 'smooth'\n        });\n\n        page++;\n    } catch (error) {\n        console.error('Error:', error);\n    }\n}\n\ndocument.addEventListener('DOMContentLoaded', (event) => {\n    document.querySelector('#load-more-button').addEventListener('click', () => {\n        searchImages(query);\n    });\n});\n\n","import searchImages from './js/pixabay-api.js';\n\n\ndocument.getElementById('form').addEventListener('submit', function(event) {\n    event.preventDefault(); \n    var inputValue = event.target.elements.input.value; \n    document.getElementById('main-ul').innerHTML = '';\n    document.getElementById('load-more-button').style.display = 'none';\n\n\n    if (inputValue.trim() === '') {\n        alert('Please enter a search query.');\n    } else {\n        searchImages(inputValue);\n    }\n    event.target.reset();\n  });"],"names":["renderImages","images","ul","markup","image","SimpleLightbox","page","query","searchImages","newQuery","url","data","axios","iziToast","cardHeight","error","event","inputValue"],"mappings":"owBAGA,SAASA,EAAaC,EAAQ,CAE1B,MAAMC,EAAK,SAAS,cAAc,IAAI,EACtC,IAAIC,EAAS,GAEbD,EAAG,mBAAmB,YAAaC,CAAM,EAEzCF,EAAO,QAAQG,GAAS,CAEvBD,GAAU;AAAA;AAAA,uBAEQC,EAAM,aAAa;AAAA,4BACdA,EAAM,YAAY,UAAUA,EAAM,IAAI,uBAAuBA,EAAM,aAAa;AAAA;AAAA;AAAA;AAAA,0CAIlEA,EAAM,KAAK;AAAA;AAAA;AAAA;AAAA,0CAIXA,EAAM,KAAK;AAAA;AAAA;AAAA;AAAA,0CAIXA,EAAM,QAAQ;AAAA;AAAA;AAAA;AAAA,0CAIdA,EAAM,SAAS;AAAA;AAAA;AAAA;AAAA;AAAA,KAMzD,CAAK,EACDF,EAAG,mBAAmB,YAAaC,CAAM,EAEzC,IAAIE,EAAe,OAAQ,CACvB,aAAc,MACd,aAAc,GACtB,CAAK,CAEL,CCtCA,IAAIC,EAAO,GACPC,EAAQ,GAEZ,eAAeC,EAAaC,EAAU,CAC9BA,IAAaF,IACbA,EAAQE,EACRH,EAAO,GAaX,MAAMI,EAAM,4BAVS,IAAI,gBAAgB,CACrC,IAAK,qCACL,EAAGH,EACH,WAAY,QACZ,YAAa,aACb,WAAY,GACZ,SAAU,GACV,KAAMD,CACd,CAAK,CAEmD,GAEpD,GAAI,CAEA,MAAMK,GADW,MAAMC,EAAM,IAAIF,CAAG,GACd,KAElBC,EAAK,KAAK,SAAW,EACrBE,EAAS,MAAM,CACX,QAAS,2EACT,MAAO,UACP,SAAU,UAC1B,CAAa,EAEDb,EAAaW,EAAK,IAAI,EAGtBA,EAAK,KAAK,OAASL,GAAQK,EAAK,WAChC,SAAS,cAAc,mBAAmB,EAAE,MAAM,QAAU,OAC5DE,EAAS,KAAK,CACV,QAAS,6DACT,SAAU,UAC1B,CAAa,GAED,SAAS,cAAc,mBAAmB,EAAE,MAAM,QAAU,QAGhE,MAAMC,EAAa,SAAS,cAAc,KAAK,EAAE,sBAAuB,EAAC,OACzE,QAAQ,IAAIA,CAAU,EACtB,OAAO,SAAS,CACZ,IAAKA,EAAa,EAClB,SAAU,QACtB,CAAS,EAEDR,GACH,OAAQS,EAAO,CACZ,QAAQ,MAAM,SAAUA,CAAK,CAChC,CACL,CAEA,SAAS,iBAAiB,mBAAqBC,GAAU,CACrD,SAAS,cAAc,mBAAmB,EAAE,iBAAiB,QAAS,IAAM,CACxER,EAAaD,CAAK,CAC1B,CAAK,CACL,CAAC,EClED,SAAS,eAAe,MAAM,EAAE,iBAAiB,SAAU,SAASS,EAAO,CACvEA,EAAM,eAAc,EACpB,IAAIC,EAAaD,EAAM,OAAO,SAAS,MAAM,MAC7C,SAAS,eAAe,SAAS,EAAE,UAAY,GAC/C,SAAS,eAAe,kBAAkB,EAAE,MAAM,QAAU,OAGxDC,EAAW,KAAM,IAAK,GACtB,MAAM,8BAA8B,EAEpCT,EAAaS,CAAU,EAE3BD,EAAM,OAAO,OACjB,CAAG"}